<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fire Warning Dashboard</title>
<style>
    body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background: #f8f8f8;
    }
    .card {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        max-width: 500px;
    }
    h2 { margin-top: 0; }
    input {
        width: 100%;
        padding: 10px;
        font-size: 16px;
        margin-top: 10px;
    }
    button {
        padding: 10px 15px;
        margin-top: 10px;
        font-size: 16px;
        cursor: pointer;
    }
</style>
</head>
<body>

<h1>Fire Warning Dashboard</h1>

<div class="card">
    <h2>ðŸ”¥ Temperature</h2>
    <div id="tempValue">Loading...</div>
</div>

<div class="card">
    <h2>ðŸ’¨ Smoke Sensor</h2>
    <div id="smokeValue">Loading...</div>
</div>

<div class="card">
    <h2>âš  Temperature Threshold</h2>
    <div style="font-size: 22px; font-weight: bold; margin-bottom: 10px;">
        Current: <span id="thresholdValue">Loading...</span>
    </div>

    <input type="number" id="newThreshold" placeholder="Enter new temperature threshold">
    <button onclick="updateThreshold()">Update</button>
</div>

<div class="card">
    <h2>ðŸ’¨ Smoke Threshold</h2>
    <div style="font-size: 22px; font-weight: bold; margin-bottom: 10px;">
        Current: <span id="smokeThresValue">Loading...</span>
    </div>

    <input type="number" id="newSmokeThres" placeholder="Enter new smoke threshold">
    <button onclick="updateSmokeThreshold()">Update</button>
</div>


<!-- Firebase v8 COMPAT MODE (báº¯t buá»™c Ä‘á»ƒ cháº¡y trÃªn GitHub Pages) -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
    // CONFIG FIREBASE (ANH DÃ™NG THÃ”NG TIN Cá»¦A ANH)
    const firebaseConfig = {
        apiKey: "AIzaSyAAoqP-5Kkw_sMJOvLzMd9yMZsto86rQBk",
        authDomain: "fire-warning-3f43e.firebaseapp.com",
        databaseURL: "https://fire-warning-3f43e-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "fire-warning-3f43e",
        storageBucket: "fire-warning-3f43e.firebasestorage.app",
        messagingSenderId: "216206579900",
        appId: "1:216206579900:web:aa5f46d236923b921418b9",
        measurementId: "G-1W9TMF3KDL"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // REALTIME TEMPERATURE
    db.ref("Temperature").on("value", snapshot => {
        document.getElementById("tempValue").innerText = snapshot.val() + " Â°C";
    });

    // REALTIME SMOKE
    db.ref("Smoke").on("value", snapshot => {
        document.getElementById("smokeValue").innerText = snapshot.val();
    });

    // REALTIME TEMPERATURE THRESHOLD
    db.ref("Threshold").on("value", snapshot => {
        document.getElementById("thresholdValue").innerText = snapshot.val();
    });
    
    // REALTIME SMOKE THRESHOLD
    db.ref("SmokeThreshold").on("value", snapshot => {
        document.getElementById("smokeThresValue").innerText = snapshot.val();
    });

    // UPDATE THRESHOLD
    function updateThreshold() {
        let val = document.getElementById("newThreshold").value;
        let val = input.value;
        if (val === "") {
            alert("Please enter a number");
            return;
        }
    
        db.ref("Threshold").set(Number(val));
        alert("Temperature threshold updated!");
        input.value = ""; // clear giÃ¡ trá»‹ vá»«a nháº­p á»Ÿ Ã´ nháº­p giÃ¡ trá»‹
    }
    // UPDATE SMOKE_THRESHOLD
    function updateSmokeThreshold() {
        let val = document.getElementById("newSmokeThres").value;
        let val = input.value;
        if (val === "") {
            alert("Please enter a number");
            return;
        }
    
        db.ref("SmokeThreshold").set(Number(val));
        alert("Smoke threshold updated!");
        input.value = ""; // clear giÃ¡ trá»‹ vá»«a nháº­p á»Ÿ Ã´ nháº­p giÃ¡ trá»‹
    }

</script>

</body>
</html>




